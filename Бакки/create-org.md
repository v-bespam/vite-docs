---
date: 2024-09-18
tags:
  - qtim
---
Для приложения Бакки реализовано две панели управления

- Супер административная панель управления - служит для создания и управления кабинетами организаций (клиентов)
- Административная панель управления организации - предоставляет возможность сотрудникам организаций управлять работой в приложении

Для создания кабинета организации необходимо выполнить следующие действия: в супер административной панели управления создать новую организацию, зарегистрировать ответственного сотрудника организации в созданном кабинете в качестве администратора.

## Создание кабинета организации в супер административной панели

Для регистрации новой организации в приложении, необходимо зайти в супер административную панель (https://admin.bakki.qtim.ru) под пользователем с правами супер администратора.

На главной странице панели управления представлен список организаций, уже зарегистрированных в Бакки. В таблице указаны следующие сведения:

- ИНН организации
- Название
- Количество возможных пользователей организации
- Количество зарегистрированных пользователей организации
- Дата, когда заканчивается оплаченная подписка
- Текущий статус:
	- Активен - доступ оплачен, компания может пользоваться приложением
	- Заблокирован - закончилось действие подписки, либо организации был закрыт доступ супер администратором
	- В процессе - запущен процесс развертывания кабинета организации
	- Ошибка - ошибка при создании кабинета организации

![[Pasted image 20240918162739.png]]
*Главная страница административной панели супер администратора*

Для создания кабинета новой организации, на главной странице следует нажать на кнопку "+Создать". На новой странице необходимо заполнить все поля:

- Название - название компании
- Описание - короткий текст о компании
- Домен - уникальное имя домена, на котором будет развернут кабинет организации. Стоит использовать имя компании в качестве имени поддомена: company-name.bakki.qtim.ru
- ИНН - индивидуальный налоговый номер организации
- Оплаченные пользователи - количество пользователей, которые были оплачены организацией по договору
- Завершение подписки - дата окончания оплаченной подписки организации. По истечении этого срока, сотрудникам будет закрыт доступ в кабинет организации

> **Примечание:** В случае, если указанное доменное имя уже занято, возникнет ошибка на этапе создания кабинета организации.

![[Pasted image 20240918171513.png]]
*Внесение сведений о новой организации*

После внесения всех данных, подтвердите действие нажав на кнопку "Сохранить". В результате будет запущен процесс создания кабинета организации. Для просмотра подробной информации нажмите на название созданной организации в списке на главной странице.

![[Pasted image 20240918171720.png]]
*Страница с информацией о созданной организации*

На странице с информацией отображаются указанные при создании организации сведения, идентификатор в приложении и статус каждого этапа создания кабинета клиента.

Создание кабинета организации поделено на несколько этапов (шагов). Все этапы выполняются последовательно друг за другом и в случае возникновения ошибки на каком-то из шагов, следующие действия выполняться не будут.

1. Начало - отправка запроса на создание кабинета организации
2. Создание домена -  регистрация указанного доменного имени организации. Если доменное имя не уникально этап будет завершен с ошибкой
3. Создание проекта Kinescope - подготовка проекта на платформе для загрузки и хранения видео
4. Создание файлового хранилища - подготовка bucket в файловом хранилище S3 для загрузки и хранения файлов
5. Настройка окружения - подготовка env файла со всеми необходимыми переменными окружения для работы кабинета организации
6. Создание проекта - сборка сервисов бэкенда для функционирования кабинета организации
7.  Проект готов к работе - развертывание сервисов в Production окружении. В случае успешного завершения этого этапа, статус организации в панели изменится на "Активен"

На странице с информацией о компании, в правом верхнем углу расположены две кнопки - "Редактировть" и "Заблокировать".

Кнопка "Редактировать" позволяет внести изменения в сведения о компании (реквизиты, срок действия подписки). Однако, при изменении информации о компании не следует редактировать доменное имя.

Кнопка "Заблокировать" позволяет прекратить доступ сотрудников организации к приложению. В этом случае будет удален домен клиента, никакая прочая информация удалена не будет.

## Регистрация пользователей в административной панели организации

После создания кабинета организации в панели суперадминистратора, следует перейти в административную панель организации (https://bakki.qtim.ru) и зарегистрировать там ответственного сотрудника клиента.

При авторизации под пользователем с правами супер администратора, на странице будет доступен выбор созданных кабинетов организаций на платформе.

![[Pasted image 20240918185023.png]]
*Список организаций*

Для регистрации новых пользователей в кабинете организации, необходимо перейти в раздел "Пользователи", нажать кнопку "Добавить участника" и выбрать необходимую роль (Администратор).

![[Pasted image 20240919091352.png]]
*Главная страница раздела "Пользователи"*

На новой странице заполните все поля, укажите информацию о сотруднике организации, нажмите на кнопку "Создать" в правом верхнем углу. На указанную электронную почту пользователя придет письмо с подтверждением регистрации на платформе.

Необязательными являются поля "Отчество", "Обо мне", "Социальные сети".

![[Pasted image 20240919091509.png]]
*Внесение информации о новом пользователе организации*

После создания нового пользователя, сотрудник клиента сможет зайти в административную панель организации используя указанные адрес электронной почты и пароль.